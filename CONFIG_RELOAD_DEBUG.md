# é…ç½®çƒ­åŠ è½½é—®é¢˜æ’æŸ¥æŒ‡å—

## ğŸ” é—®é¢˜è¯Šæ–­

### å½“å‰å®ç°æ£€æŸ¥

âœ… **ä»£ç æ£€æŸ¥é€šè¿‡**ï¼š
```java
// ConfigManager.java - ç¬¬31-34è¡Œ
public void reloadConfig() {
    plugin.reloadConfig();        // âœ… é‡æ–°åŠ è½½é…ç½®
    this.config = plugin.getConfig();  // âœ… æ›´æ–°é…ç½®å¼•ç”¨
}

// GameManager.java - ç¬¬183è¡Œ
int countdown = config.getStartCountdown();  // âœ… æ¯æ¬¡å¼€å§‹æ¸¸æˆæ—¶è¯»å–
```

é…ç½®çƒ­åŠ è½½é€»è¾‘æ˜¯æ­£ç¡®çš„ï¼Œé—®é¢˜å¯èƒ½åœ¨å…¶ä»–åœ°æ–¹ã€‚

---

## ğŸ› å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

### é—®é¢˜ 1ï¼šé…ç½®æ–‡ä»¶è·¯å¾„é”™è¯¯ âš ï¸

**ç—‡çŠ¶**ï¼šä¿®æ”¹é…ç½®å reload æ— æ•ˆ

**åŸå› **ï¼šç¼–è¾‘äº†é”™è¯¯çš„é…ç½®æ–‡ä»¶

**æ£€æŸ¥**ï¼š
```bash
# æ­£ç¡®çš„é…ç½®æ–‡ä»¶è·¯å¾„ï¼ˆäºŒé€‰ä¸€ï¼‰
plugins/RandomItemPVP/config.yml          # âœ… æ­£ç¡®
plugins\RandomItemPVP\config.yml          # âœ… æ­£ç¡®ï¼ˆWindowsï¼‰

# é”™è¯¯çš„è·¯å¾„
src/main/resources/config.yml             # âŒ è¿™æ˜¯æºä»£ç ä¸­çš„æ¨¡æ¿
RandomItemPVP-2.2.0.jar/config.yml        # âŒ JARåŒ…å†…éƒ¨æ–‡ä»¶
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
1. æ‰¾åˆ°æœåŠ¡å™¨æ ¹ç›®å½•
2. è¿›å…¥ plugins/RandomItemPVP/
3. ç¼–è¾‘è¿™é‡Œçš„ config.yml
4. ä¿å­˜æ–‡ä»¶
5. åœ¨æ¸¸æˆä¸­æ‰§è¡Œ /ripvp reload
```

---

### é—®é¢˜ 2ï¼šYAML æ ¼å¼é”™è¯¯ âš ï¸

**ç—‡çŠ¶**ï¼šreload åé…ç½®è¯»å–å¤±è´¥æˆ–ä½¿ç”¨é»˜è®¤å€¼

**åŸå› **ï¼šYAML ç¼©è¿›æˆ–æ ¼å¼é”™è¯¯

**å¸¸è§é”™è¯¯**ï¼š
```yaml
# âŒ é”™è¯¯ï¼šç¼©è¿›ä¸å¯¹ï¼ˆä½¿ç”¨äº† Tabï¼‰
arena:
	start-countdown: 60

# âŒ é”™è¯¯ï¼šå†’å·åæ²¡æœ‰ç©ºæ ¼
arena:
  start-countdown:60

# âŒ é”™è¯¯ï¼šå±‚çº§ä¸å¯¹
arena:
start-countdown: 60

# âœ… æ­£ç¡®ï¼š2ç©ºæ ¼ç¼©è¿› + å†’å·åæœ‰ç©ºæ ¼
arena:
  radius: 48
  min-players: 2
  start-countdown: 60
```

**æ£€æŸ¥å·¥å…·**ï¼š
- åœ¨çº¿ YAML éªŒè¯å™¨ï¼šhttp://www.yamllint.com/
- VSCode æ’ä»¶ï¼šYAML

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
1. ä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨ï¼ˆä¸è¦ç”¨ Windows è®°äº‹æœ¬ï¼‰
2. ç¡®ä¿ä½¿ç”¨ç©ºæ ¼è€Œé Tab
3. æ£€æŸ¥å†’å·åé¢æœ‰ç©ºæ ¼
4. ä¿æŒç¼©è¿›ä¸€è‡´ï¼ˆ2ä¸ªç©ºæ ¼ï¼‰
```

---

### é—®é¢˜ 3ï¼šé…ç½®æ–‡ä»¶æœªä¿å­˜ âš ï¸

**ç—‡çŠ¶**ï¼šç¼–è¾‘é…ç½®å reload æ— æ•ˆ

**åŸå› **ï¼šç¼–è¾‘å™¨æ²¡æœ‰ä¿å­˜æ–‡ä»¶

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# Windows
Ctrl + S

# Mac
Cmd + S

# æˆ–è€…ï¼šå…³é—­ç¼–è¾‘å™¨æ—¶é€‰æ‹©"ä¿å­˜"
```

---

### é—®é¢˜ 4ï¼šé…ç½®é¡¹åç§°é”™è¯¯ âš ï¸

**ç—‡çŠ¶**ï¼šæŸä¸ªé…ç½®é¡¹ä¸ç”Ÿæ•ˆï¼Œå…¶ä»–æ­£å¸¸

**æ£€æŸ¥é…ç½®é¡¹åç§°**ï¼š

| åŠŸèƒ½ | æ­£ç¡®çš„é…ç½®é¡¹ | é”™è¯¯ç¤ºä¾‹ |
|------|------------|---------|
| å‡†å¤‡æ—¶é—´ | `arena.start-countdown` | âŒ `arena.start_countdown` |
| æœ€å°äººæ•° | `arena.min-players` | âŒ `arena.minPlayers` |
| ç«æŠ€åœºåŠå¾„ | `arena.radius` | âŒ `game.radius` |

**æ­£ç¡®çš„é…ç½®ç»“æ„**ï¼š
```yaml
arena:
  radius: 48
  min-players: 2
  start-countdown: 30    # â† å‡†å¤‡å€’è®¡æ—¶ï¼ˆç§’ï¼‰
```

---

### é—®é¢˜ 5ï¼šæ¸¸æˆè¿›è¡Œä¸­æ— æ³• reload âš ï¸

**ç—‡çŠ¶**ï¼šæ‰§è¡Œ `/ripvp reload` æ˜¾ç¤ºé”™è¯¯

**åŸå› **ï¼šä¸ºäº†å®‰å…¨ï¼Œæ¸¸æˆè¿›è¡Œä¸­ç¦æ­¢çƒ­åŠ è½½

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# 1. å…ˆåœæ­¢æ¸¸æˆ
/ripvp stop

# 2. ç„¶å reload
/ripvp reload

# 3. å¼€å§‹æ–°æ¸¸æˆ
/ripvp start
```

---

## ğŸ“‹ å®Œæ•´æµ‹è¯•æ­¥éª¤

### æ­¥éª¤ 1ï¼šç¡®è®¤é…ç½®æ–‡ä»¶ä½ç½®
```bash
# è¿›å…¥æœåŠ¡å™¨ç›®å½•
cd /your/server/

# æŸ¥çœ‹é…ç½®æ–‡ä»¶
cat plugins/RandomItemPVP/config.yml

# æˆ–åœ¨ Windows ä¸Š
type plugins\RandomItemPVP\config.yml
```

### æ­¥éª¤ 2ï¼šä¿®æ”¹é…ç½®
```yaml
# æ‰“å¼€ plugins/RandomItemPVP/config.yml
arena:
  start-countdown: 60    # æ”¹æˆ 60 ç§’
```

### æ­¥éª¤ 3ï¼šä¿å­˜å¹¶ reload
```bash
# 1. ä¿å­˜æ–‡ä»¶ï¼ˆCtrl+Sï¼‰
# 2. åœ¨æ¸¸æˆä¸­
/ripvp reload

# åº”è¯¥çœ‹åˆ°ï¼š
# âœ“ é…ç½®æ–‡ä»¶å·²çƒ­åŠ è½½ï¼
# âœ“ æ¸¸æˆå‡ºç”Ÿç‚¹å·²é‡æ–°åŠ è½½ï¼
# æ–°é…ç½®å·²ç”Ÿæ•ˆï¼Œå¯ä»¥å¼€å§‹æ–°æ¸¸æˆã€‚
```

### æ­¥éª¤ 4ï¼šæµ‹è¯•æ–°é…ç½®
```bash
/ripvp start

# è§‚å¯Ÿå€’è®¡æ—¶æ˜¯å¦æ˜¯ 60 ç§’
# åº”è¯¥çœ‹åˆ°ï¼š"æ¸¸æˆå°†åœ¨ 60 ç§’åå¼€å§‹..."
```

---

## ğŸ”§ é«˜çº§è°ƒè¯•

### æ–¹æ³• 1ï¼šæŸ¥çœ‹æœåŠ¡å™¨æ—¥å¿—

```bash
# æŸ¥çœ‹æœ€æ–°æ—¥å¿—
tail -f logs/latest.log

# æ‰§è¡Œ reload æ—¶åº”è¯¥çœ‹åˆ°ï¼š
[RandomItemPVP] é…ç½®å·²é‡è½½
```

### æ–¹æ³• 2ï¼šæ·»åŠ è°ƒè¯•ä¿¡æ¯

ä¸´æ—¶ä¿®æ”¹ä»£ç ä»¥ç¡®è®¤é…ç½®æ˜¯å¦æ­£ç¡®è¯»å–ï¼š

```java
// RipvpCommand.java - reload å‘½ä»¤ä¸­æ·»åŠ 
case "reload":
    configManager.reloadConfig();
    gameManager.reloadSpawnLocation();
    
    // æ·»åŠ è°ƒè¯•ä¿¡æ¯
    int countdown = configManager.getStartCountdown();
    player.sendMessage("å½“å‰å€’è®¡æ—¶: " + countdown + " ç§’");  // â† æ·»åŠ è¿™è¡Œ
    
    player.sendMessage(ChatColor.GREEN + "âœ“ é…ç½®æ–‡ä»¶å·²çƒ­åŠ è½½ï¼");
    return true;
```

### æ–¹æ³• 3ï¼šé‡å¯æœåŠ¡å™¨ï¼ˆæœ€ä¿é™©ï¼‰

å¦‚æœ reload ä»æœ‰é—®é¢˜ï¼Œç›´æ¥é‡å¯ï¼š

```bash
# 1. ä¿®æ”¹é…ç½®æ–‡ä»¶
# 2. é‡å¯æœåŠ¡å™¨
/stop

# 3. å¯åŠ¨æœåŠ¡å™¨
# 4. æµ‹è¯•é…ç½®
/ripvp start
```

---

## âœ… éªŒè¯æ¸…å•

æµ‹è¯•ä»¥ä¸‹é…ç½®é¡¹æ˜¯å¦éƒ½èƒ½æ­£ç¡® reloadï¼š

- [ ] `arena.start-countdown` - å‡†å¤‡å€’è®¡æ—¶
- [ ] `arena.min-players` - æœ€å°ç©å®¶æ•°
- [ ] `arena.radius` - ç«æŠ€åœºåŠå¾„
- [ ] `items.interval_ticks` - ç‰©å“å‘æ”¾é—´éš”
- [ ] `border.shrink_interval_ticks` - ç¼©åœˆé—´éš”
- [ ] `items.weights` - ç‰©å“æƒé‡

**æµ‹è¯•æ–¹æ³•**ï¼š
```bash
1. ä¿®æ”¹é…ç½®
2. /ripvp reload
3. /ripvp start
4. è§‚å¯Ÿæ˜¯å¦ä½¿ç”¨æ–°é…ç½®
```

---

## ğŸ› å¦‚æœé—®é¢˜ä»ç„¶å­˜åœ¨

### 1. å¤‡ä»½å½“å‰é…ç½®
```bash
cp plugins/RandomItemPVP/config.yml config_backup.yml
```

### 2. åˆ é™¤é…ç½®æ–‡ä»¶
```bash
rm plugins/RandomItemPVP/config.yml
```

### 3. é‡å¯æœåŠ¡å™¨
```bash
/stop
# æ’ä»¶ä¼šè‡ªåŠ¨ç”Ÿæˆæ–°çš„ config.yml
```

### 4. é‡æ–°ä¿®æ”¹é…ç½®
ç¼–è¾‘æ–°ç”Ÿæˆçš„ config.yml

---

## ğŸ“ æŠ¥å‘Š Bug

å¦‚æœä»¥ä¸Šéƒ½æ— æ•ˆï¼Œè¯·æä¾›ï¼š

```
1. é…ç½®æ–‡ä»¶å†…å®¹ï¼ˆå®Œæ•´çš„ config.ymlï¼‰
2. æœåŠ¡å™¨æ—¥å¿—ï¼ˆæ‰§è¡Œ /ripvp reload æ—¶çš„æ—¥å¿—ï¼‰
3. æœåŠ¡å™¨ç‰ˆæœ¬ï¼ˆPaper/Folia + ç‰ˆæœ¬å·ï¼‰
4. æ’ä»¶ç‰ˆæœ¬ï¼ˆRandomItemPVP ç‰ˆæœ¬ï¼‰
5. å…·ä½“å“ªä¸ªé…ç½®é¡¹ä¸ç”Ÿæ•ˆ
```

---

**æœ€å¸¸è§çš„é—®é¢˜**ï¼šç¼–è¾‘äº†é”™è¯¯çš„ config.yml æ–‡ä»¶ï¼ˆæºä»£ç ä¸­çš„è€Œä¸æ˜¯ plugins ç›®å½•ä¸­çš„ï¼‰


